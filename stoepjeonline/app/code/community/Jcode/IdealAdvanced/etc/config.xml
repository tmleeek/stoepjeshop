<?xml version="1.0"?>
<!-- 
/**
* J!Code WebDevelopment
*
* @title 		Magento payment module for iDeal Advanced
* @category 	J!Code
* @package 		Jcode_Community
* @author 		Jeroen Bleijenberg / J!Code WebDevelopment <support@jcode.nl>
* @license  	http://opensource.org/licenses/osl-3.0.php  Open Software License (OSL 3.0)
*/
 -->
 <config>
 	<modules>
		<Jcode_IdealAdvanced>
			<version>1.0.3</version>
		</Jcode_IdealAdvanced>
	</modules>
 	<global>
		<models>
			<idealadvanced>
				<class>Jcode_IdealAdvanced_Model</class>
				<resourceModel>idealadvanced_mysql4</resourceModel>
			</idealadvanced>
			<idealadvanced_mysql4>
				<class>Jcode_IdealAdvanced_Model_Mysql4</class>
                <entities>
                    <api_debug><table>idealadvanced_api_debug</table></api_debug>
                </entities>				
			</idealadvanced_mysql4>
		</models>
 		<resources>
 			<idealadvanced_setup>
 				<setup>
 					<module>Jcode_IdealAdvanced</module>
 				</setup>
 				<connection>
 					<use>core_setup</use>
 				</connection>
 			</idealadvanced_setup>
 			<idealadvanced_write>
 				<use>core_write</use>
 			</idealadvanced_write>
 			<idealadvanced_read>
 				<use>core_read</use>
 			</idealadvanced_read>
 		</resources>
		<blocks>
			<idealadvanced>
				<class>Jcode_IdealAdvanced_Block</class>
			</idealadvanced>
		</blocks>
		<helpers>
			<idealadvanced>
				<class>Jcode_IdealAdvanced_Helper</class>
			</idealadvanced>
		</helpers>
 	</global>
    <frontend>
    	<secure_url>
    		<idealadvanced>/ideal/order</idealadvanced>
    	</secure_url>
        <routers>
            <idealadvanced>
                <use>standard</use>
                <args>
                    <module>Jcode_IdealAdvanced</module>
                    <frontName>ideal</frontName>
                </args>
            </idealadvanced>
        </routers>
        <events>
            <sales_convert_quote_payment_to_order_payment>
                <observers>
                    <jcode_idealadvanced_observer>
                        <type>singleton</type>
                        <class>Jcode_IdealAdvanced_Model_Observer</class>
                        <method>convertPayment</method>
                    </jcode_idealadvanced_observer>
                </observers>
            </sales_convert_quote_payment_to_order_payment>
        </events>  
        <translate>
            <modules>
                <Jcode_IdealAdvanced>
                    <files>
                        <default>Jcode_IdealAdvanced.csv</default>
                    </files>
                </Jcode_IdealAdvanced>
            </modules>
        </translate>              
     </frontend> 	
    <default>
        <payment>
            <idealadvanced>
                  <model>idealadvanced/advanced</model>
                  <title>Ideal Advanced</title>
                  <allowspecific>0</allowspecific>
                  <expire_period>10</expire_period>
                  <cron_start>1</cron_start>
                  <cron_end>1</cron_end>
            </idealadvanced>
         </payment>
     </default>	 
    <crontab>
        <jobs>
            <transaction_status_check>
                <schedule><cron_expr>0 */1 * * *</cron_expr></schedule>
                <run><model>idealadvanced/advanced::transactionStatusCheck</model></run>
            </transaction_status_check>
        </jobs>
    </crontab>     	
 </config>